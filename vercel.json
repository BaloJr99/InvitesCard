{
  "redirects": [
    {
      "source": "/",
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(^es.*)"
        }
      ],
      "destination": "/es"
    },
    {
      "source": "/",
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(^(?!es.*).*)"
        }
      ],
      "destination": "/en"
    },{
      "source": "/:path(^(?!(en|es)/).*)",
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(^es.*)"
        }
      ],
      "destination": "/es/:path*"
    },{
      "source": "/:path(^(?!(en|es)/).*)",
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(^(?!es.*).*"
        }
      ],
      "destination": "/en/:path*"
    }
  ],
  "rewrites": [
    { 
      "source": "/es/(.*)", 
      "destination": "/es/" 
    },
    { 
      "source": "/en/(.*)",
      "destination": "/en/" 
    }
  ]
}